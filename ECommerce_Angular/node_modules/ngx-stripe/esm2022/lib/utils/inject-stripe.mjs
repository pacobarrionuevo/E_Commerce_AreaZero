import { inject } from '@angular/core';
import { STRIPE_PUBLISHABLE_KEY } from '../interfaces/ngx-stripe.interface';
import { StripeFactoryService } from '../services/stripe-factory.service';
import { StripeService } from '../services/stripe.service';
export function injectStripe(publishableKey, options) {
    if (publishableKey) {
        const factory = inject(StripeFactoryService);
        return factory.create(publishableKey, options);
    }
    else if (inject(STRIPE_PUBLISHABLE_KEY)) {
        return inject(StripeService);
    }
    throw new Error('Publishable Key is required either global or pass as parameter');
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5qZWN0LXN0cmlwZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1zdHJpcGUvc3JjL2xpYi91dGlscy9pbmplY3Qtc3RyaXBlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJdkMsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFHNUUsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sb0NBQW9DLENBQUM7QUFDMUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLDRCQUE0QixDQUFDO0FBRTNELE1BQU0sVUFBVSxZQUFZLENBQUMsY0FBdUIsRUFBRSxPQUFrQztJQUN0RixJQUFJLGNBQWMsRUFBRSxDQUFDO1FBQ25CLE1BQU0sT0FBTyxHQUFHLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO1FBQzdDLE9BQU8sT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7SUFDakQsQ0FBQztTQUFNLElBQUksTUFBTSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQztRQUMxQyxPQUFPLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztJQUMvQixDQUFDO0lBRUQsTUFBTSxJQUFJLEtBQUssQ0FBQyxnRUFBZ0UsQ0FBQyxDQUFDO0FBQ3BGLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbmplY3QgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgU3RyaXBlQ29uc3RydWN0b3JPcHRpb25zIH0gZnJvbSAnQHN0cmlwZS9zdHJpcGUtanMnO1xuXG5pbXBvcnQgeyBTVFJJUEVfUFVCTElTSEFCTEVfS0VZIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9uZ3gtc3RyaXBlLmludGVyZmFjZSc7XG5pbXBvcnQgeyBTdHJpcGVTZXJ2aWNlSW50ZXJmYWNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9zdHJpcGUtaW5zdGFuY2UuaW50ZXJmYWNlJztcblxuaW1wb3J0IHsgU3RyaXBlRmFjdG9yeVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9zdHJpcGUtZmFjdG9yeS5zZXJ2aWNlJztcbmltcG9ydCB7IFN0cmlwZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9zdHJpcGUuc2VydmljZSc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbmplY3RTdHJpcGUocHVibGlzaGFibGVLZXk/OiBzdHJpbmcsIG9wdGlvbnM/OiBTdHJpcGVDb25zdHJ1Y3Rvck9wdGlvbnMpOiBTdHJpcGVTZXJ2aWNlSW50ZXJmYWNlIHtcbiAgaWYgKHB1Ymxpc2hhYmxlS2V5KSB7XG4gICAgY29uc3QgZmFjdG9yeSA9IGluamVjdChTdHJpcGVGYWN0b3J5U2VydmljZSk7XG4gICAgcmV0dXJuIGZhY3RvcnkuY3JlYXRlKHB1Ymxpc2hhYmxlS2V5LCBvcHRpb25zKTtcbiAgfSBlbHNlIGlmIChpbmplY3QoU1RSSVBFX1BVQkxJU0hBQkxFX0tFWSkpIHtcbiAgICByZXR1cm4gaW5qZWN0KFN0cmlwZVNlcnZpY2UpO1xuICB9XG5cbiAgdGhyb3cgbmV3IEVycm9yKCdQdWJsaXNoYWJsZSBLZXkgaXMgcmVxdWlyZWQgZWl0aGVyIGdsb2JhbCBvciBwYXNzIGFzIHBhcmFtZXRlcicpO1xufVxuIl19